(function(u,y,O){u.execute(function(){u.register("postMetric",function(){return{postCountMetric:function(v){if("undefined"!==typeof v){var d=y.ue;if(d){var f=d.count(v)||0;d.count(v,f+1)}}}}});u.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(v,d,f,k){v=v.extend(!0,{},f,k);var b=new d(v);u.register("ImageBlockAPI",function(){return b.api});return b});u.when("A","jQuery","ImageBlockBTF").register("ImageBlockAiryLoader",
function(v,d,f){v=f.airyConfig;v.jsUrl&&u.load.js(v.jsUrl);v.cssUrl&&u.load.css(v.cssUrl)});u.when("A","jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(v,d,f,k,b,a){var c={};return function(e){var g=this;g.dispatch=function(a,e){var f=c[a];b.isDefined(f)&&d.each(f,function(a,b){b.call(y,e)})};g.register=function(a,d){b.isDefined(c[a])||(c[a]=[]);"function"===typeof d&&c[a].push(d)};g.model=new f(e,g);g.view=new k(e,
g,g.model);g.api=new a(e,g.model);g.init=function(){g.model.init();g.view.init()};g.init()}});u.when("A","jQuery","imageBlockUtils").register("ImageBlockModel",function(v,d,f){function k(a,b,c,d,e){f.isDefined(a)&&(l.type=a);f.isDefined(b)&&(l.index=b);f.isDefined(c)&&(l.thumbnailIndex=c);f.isDefined(d)&&(l.variant=d);f.isDefined(e)&&(l.color=e)}function b(a){k("image",0,0,"MAIN",a||g.landingAsinColor||g.defaultColor)}function a(a){a=a.data;m=v.copy(l);k(a.type,a.index,a.thumbnailIndex,
a.variant,a.color)}function c(b){a(b);b=v.copy(b);b.data=v.copy(l);h.dispatch("updateView",b)}function e(){m=v.copy(l);b(l.color)}var g,h,l={},m={},r;return function(d,f){h=f;g=d;h.register("updateSelection",c);h.register("updateModel",a);h.register("resetModel",e);this.init=function(){b()};this.getCurrentItem=function(){return v.copy(l)};this.getPreviousItem=function(){return v.copy(m)};this.setCurrentEvent=function(a){r=a};this.getCurrentEvent=function(){return r}}});u.when("ImageBlockBTF").execute(function(v){function d(d,
k,b,a,c){function e(a){"click"===a.type&&z.overrideAltImageClickAction?A.dispatch("thumbActionClick",a):A.dispatch("updateSelection",a)}function g(a){z.useClickZoom||A.dispatch("imageClick",a)}function h(a){z.useClickZoom||A.dispatch("imageHover",a)}function l(c){!b.isDefined(c)||"swatchClick"!==c.type&&"updatedData"!==c.type?(t.update(c),"swatchHover"!==c.type&&B.getPreviousItem().thumbnailIndex!==c.data.thumbnailIndex&&a.postCountMetric(c.data.type+"ThumbnailSelected"),d.trigger("image-block-thumbnail-selected",
c.data)):t.render(c.data.color,!1,c.onload)}function m(a){A.dispatch("resize",a)}function r(a){b.selectThumbnail(a,D)}function n(a){var b=a.data,c;b&&"ingress"!==b.type&&"click"===a.type&&(c=a);return c}function q(a){var b=B.getCurrentItem(),c={type:"click"};c.$declarativeParent=a;c.data=b;return c}var t,z,A,B,D;return function(a,b,v){t=this;z=a;A=b;B=v;D=k("#imageBlock #altImages ul");var u=k("#imageBlock .canvas"),M=k("#main-image-container"),G;t.subViews=[];for(b=0;b<c.length;b++)t.subViews.push(new c[b](a,
v,t,A));t.render=function(a,b,c){var d=0;D.find(".item").remove();a=a||B.getCurrentItem().color;k.each(t.subViews,function(e,f){d=f.render(a,d,u,D,M,b,c)||d});var e=D.find(".a-button-selected").closest(".a-declarative");G=q(e)};t.init=function(){D=k("#imageBlock #altImages ul");var a=D.find(".a-button-selected").closest(".a-declarative"),b=a.data("action"),a=a.data(b)||{};a.color=z.landingAsinColor||z.defaultColor;A.dispatch("updateModel",{data:a});t.render(a.color,!0);z.isDebug&&y.console&&console.log(z);
A.register("updateView",l);A.register("selectThumbnail",r);z.disableHoverOnAltImages||d.declarative("thumb-action",["mouseenter","mouseleave"],e);d.declarative("thumb-action",["click"],e);d.declarative("main-image-click",["click"],g);d.declarative("main-image-click",["mouseenter","mouseleave"],h);k(y).resize(m)};t.update=function(a){k.each(t.subViews,function(b,c){c.update(a)});z.usePeekHover&&("mouseleave"===a.type?A.dispatch("updateSelection",G):"click"===a.type&&(G=n(a)||G))}}}v=["A","jQuery",
"imageBlockUtils","postMetric"].concat(v.views);u.when.apply(u,v).register("ImageBlockView",function(){for(var f=arguments[0],k=arguments[1],b=arguments[2],a=arguments[3],c=[],e=4,g=arguments.length;e<g;e++)c.push(arguments[e]);return d(f,k,b,a,c)})});u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric").register("ImageBlockAltImageView",function(v,d,f,k,b){function a(a,b,c,e){if(!f.isjQueryObjDefined(a.find(".a-button-selected"))){var h=x.getCurrentItem();if(!e||"chromeless-video"!==
h.type||!p.autoplayVideo){e=0;"image"===h.type&&(e=Math.max(g(h.color,h.variant),0));var k=b+e;k>=c&&(e=0,k=b);b=f.getImageHash(h.color,e,p);-1!==b&&(E.dispatch("updateModel",{data:{index:e,thumbnailIndex:k,variant:b.variant,type:"image"}}),b=a.find(".item").get(k),f.selectGivenThumbnail(d(b),a))}}}function c(b,c,e){c=p.colorImages&&p.colorImages[c];var g=b;f.isDefined(c)&&(d.each(c,function(a,c){b<p.maxAlts&&(f.createThumbnail({type:"image",index:a,thumbnailIndex:b,variant:c.variant},c.thumb,y),
b++)}),a(y,g,b,e));return b}function e(a,b){if("image"===a.type){var c=d("#image-canvas-caption #canvasCaption"),e,f=p.staticStrings,g=p.colorImages,h=a.color,k=a.index;b&&p.useIV?e=f.clickToExpand:g[h]&&g[h][k].hiRes&&p.useHoverZoom?(e=p.useHoverZoomIpad?f.touchToZoom:p.useClickZoom?f.clickToZoom:f.rollOverToZoom,p.hoverZoomIndicator&&(e="<img src='"+p.staticImages.hoverZoomIcon+"'/>&nbsp;"+e)):p.useIV&&(e=f.clickToExpand);c.html(e)}}function g(a,b){return f.getIndexForVariant(a,b,p)}function h(a,
b){var c;d.each(a.main,function(a,b){f.isDefined(c)||(c=parseFloat(b[1]/b[0])<=parseFloat(p.holderRatio)?"a-stretch-vertical":"a-stretch-horizontal")});var e="a-dynamic-image "+c,g=f.getMaxHeightOfMainImage(a.main,G,p),h=f.getMaxWidthOfMainImage(a.main,G,p),k=d("<div></div>"),g={"max-height":g,"max-width":h};k.addClass(e).css(g).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",a.main);return k}function l(a){var b=M.find(".swatchHoverExp");a=h(a);
b.find(".imgTagWrapper").html(a);v.loadImageManually(a);return b}function m(a){var b=G.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");p.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(p.imgTagWrapperClasses)}function r(a,c){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){var d=f.getImageHash(a.color,a.index,p);if(-1===d)return d={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(a,x,p)?t(a,!1,
c):(E.dispatch("updateModel",d),f.showUnavailable(a.color)),-1;var g=M.find(".item.itemNo"+a.thumbnailIndex);if(!f.isjQueryObjDefined(g)){var g=a.thumbnailIndex,g=M.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate").addClass("image item itemNo"+g+" maintain-height"),k=h(d,c);g.find(".placeHolder").replaceWith(k);M.find(".list").append(g);v.loadImageManually(k)}m(g);E.dispatch("loadMagnifier");e(a);p.useIV&&f.isDefined(d.hiRes)&&g.css("cursor","pointer");a.isUserGenerated&&
(g=x.getPreviousItem(),k=a.variant,f.isDefined(k)&&g.thumbnailIndex!==a.thumbnailIndex&&(b.postCountMetric("ImageThumbnailSelectedVariant:"+k),0===k.indexOf("IG")&&(b.postCountMetric("IGImageSelectedVariant:"+k),b.postCountMetric("IGImageSelectedEvent:"+a.interaction))));v.trigger("dp:image-block:update",d)}}function n(a){var b=Math.max(g(a.color,x.getCurrentItem().variant),0),b=f.getImageHash(a.color,b,p);if(-1===b)return f.lazyLoadingRequired(a,x,p)?f.lazyLoadOnHoverEnabled(p)&&(q(".3",!0),f.spinner(M,
!0),v.delay(function(){x.getCurrentEvent().data===a&&t(a,!0)},500)):f.showUnavailable(a.color),-1;var c=l(b);m(c);v.trigger("dp:image-block:update",b)}function q(a,b){b?M.css("opacity",a):d("#imageBlock").css("opacity",a)}function t(a,b,c){ia=b;L=c;var d=a.color,e=p.colorToAsin[d];if(e&&e.asin){var g={};g.params={asin:e.asin,productGroupID:p.productGroupID,color:d};g.success=function(g){g?(f.ajaxState(e.asin,"success"),p.colorImages[d]=g.colorImage,d===a.color&&(b&&ia?a===x.getCurrentEvent().data&&
(z(a),n(a)):(g={type:"updatedData",data:x.getCurrentItem(),onload:c||L},E.dispatch("updateView",g))),u.register(f.rankedImagesReadyEvent(e.asin))):f.ajaxState(e.asin,"fail")};g.error=function(){f.ajaxState(e.asin,"fail")};g.indicator=f.spinner(M);f.ajaxState(e.asin,void 0)&&"fail"!==f.ajaxState(e.asin,void 0)||(q(".3",b),k.load("/gp/product/features/apparel-main-image/ranked-images.html",g),f.ajaxState(e.asin,"sent"));return p.colorImages&&p.colorImages[d]}}function z(a,b){f.lazyLoadingRequired(a,
x,p)||(d("#imageBlock").css("opacity","1"),M.css("opacity","1"),f.spinner(M,!1),M.find("li").removeClass("selected"),d("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),b&&M.find(".list .item").remove())}function A(){var a=M.find(".item .imgTagWrapper"),b=f.getContainerHeight(G,p.holderRatio,p.holderMaxHeight);0<b&&(G.height(b),a.height(b));M.find("img.a-dynamic-image").each(function(){var a=d(this);a.data("a-manual-replacement")&&v.loadDynamicImage(this);var b=a.data("a-dynamic-image"),
c=f.getMaxHeightOfMainImage(b,G,p),b=f.getMaxWidthOfMainImage(b,G,p);a.css({"max-height":c+"px","max-width":b+"px"})})}function B(a){e(x.getCurrentItem(),"mouseenter"===a.type)}var D,p,x,E,y,M,G,ia,L;return function(a,b,d,e){D=this;p=a;x=b;E=e;p.colorImages[p.landingAsinColor]=p.colorImages[p.defaultColor];D.render=function(a,b,d,e,g,h,k){M=d;y=e;G=g;a=c(b,a,h);h||(b=x.getCurrentItem(),f.lazyLoadingRequired(b,x,p)&&E.dispatch("updateModel",{data:{type:"lazy-loaded"}}));z(x.getCurrentItem(),!h);r(x.getCurrentItem(),
k);return a};D.update=function(a){var b=a.data;x.setCurrentEvent(a);"ingress"!==b.type&&z(a.data,!1);"swatchHover"===a.type?b.color===x.getCurrentItem().color?r(x.getCurrentItem()):a.captured||-1===n(b)||(a.captured=!0):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,r(b),p.usePeekHover&&"click"!==a.type||f.selectGivenThumbnail(a.$declarativeParent,y))};E.register("imageHover",B);E.register("resize",A)}});u.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockMagnifierView",
function(v,d,f,k){function b(a){n?a.css("cursor","url('"+h.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function a(a){var b=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(f.isDefined(b))for(var b=b[1].split("_"),c=0;c<b.length;c++){var d=b[c].match(/^([A-Z]+)(\d+(\.\d+)?)$/);f.isDefined(d)&&(a[d[1]]=parseInt(d[2],10))}return a}function c(c,e){function g(){var a;e.useClickZoom?(a=e.offsetInClickZoom,a=[Math.min(1,
Math.max(0,ia[0]-(J[0]+a))/(J[2]-2*a)),Math.min(1,Math.max(0,ia[1]-(J[1]+a))/(J[3]-2*a))]):a=G&&G.updatePosition();if(a&&M.detailSize){var b=[M.detailSize[0]-M.rect.width,M.detailSize[1]-M.rect.height];M.detailImage.get(0).style.left=-(a[0]*b[0])+"px";M.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function l(a){var b=R?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";ia=R?[b.pageX,b.pageY]:[a.pageX,a.pageY]}function m(a){R&&a.preventDefault();l(a);e.useClickZoom?a=[J[0],J[1],J[0]+
J[2],J[1]+J[3]]:(a=G?G.offset:c.offsetParent().offset(),a=[L[0]+a.left,L[1]+a.top,L[0]+L[2]+a.left,L[1]+L[3]+a.top]);ia[0]<a[0]||ia[1]<a[1]||ia[0]>=a[2]||ia[1]>=a[3]?(e.fadeMagnifier?S||(S=!0,T=setTimeout(function(){r(!0)},500)):e.useClickZoom||r(),U&&(U=!1,clearTimeout(Y))):(U||(U=!0,Y=setTimeout(function(){k.postCountMetric("dppc_hoverZoomOpened")},1E3)),e.fadeMagnifier&&S&&(S=!1,clearTimeout(T)),g())}function r(a){a&&v.suppressMagnifier(!0);if(O&&(M&&M.hide(),G&&(G.destroy(),G=null),O=!1,R?(c.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),
d(document).trigger("disengaged.magnifier")):d(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),x(),a))c.one("click.magnifier touchstart.magnifier",function(a){p(a,!0)})}function p(a,b){b&&v.suppressMagnifier(!1);if(!O&&!K&&(0===Z&&(k.postCountMetric("dppc_hoverTime",new Date-(y.ue&&y.ue.t0||0)),Z=1),P[N]||(k.postCountMetric("dppc_hoverMain"),P[N]=1),L=[c.position().left,c.position().top,c.width(),c.height()],N&&(l(a),M?M.refit().show():M=new Q,e.useClickZoom||(G=G||new I),
J=M.getWindowSize(),g()),O=!0,R?(c.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",m).bind("touchend.magnifier",r),d(document).trigger("engaged.magnifier")):(c.unbind("mousemove.magnifier"),d(document).trigger("engaged.magnifier").bind("mousemove.magnifier",m)),b)){var f=d("#zoomWindow");if(0<f.length)f.one("click.magnifier touchend.magnifier",function(a){r(!0)})}}function x(){e.useHoverZoom&&(R?c.bind("touchstart.magnifier touchmove.magnifier",p):c.bind("mousemove.magnifier",
p))}var v=this,u={detailImageUrl:c.attr("data-old-hires"),location:"over",locationElement:c,prelaod:"ready",zIndex:50,offsetInClickZoom:50};e=d.extend(u,e);e.adjustment=[10,0,-10,0];var M=null,G=null,ia=null,L=null,J=null,H={"null":1,"":1,undefined:1},O=!1,K=!1,N=e.detailImageUrl,R=e.useHoverZoomIpad||0,Z=0,P={},I=function(){function a(b){var d=Math.round(Math.min(c.width(),M.rect.width/b));b=Math.round(Math.min(c.height(),M.rect.height/b));m.css({width:d,height:b});f=[d,b]}var g=this,f=[0,0],k=(M.detailSize&&
M.detailSize[0]||5E8)/L[2],l=(M.detailSize&&M.detailSize[1]||5E8)/L[3],k=l>k?l:k;d("#magnifierLens").remove();var m=d("<div id='magnifierLens' />").css({backgroundImage:"url("+e.generalImageUrls.zoomLensBackground+")",position:"absolute"});h.showMagnifierOnHover?b(m):m.css("cursor","pointer");g.updatePosition=function(){var a=[L[2]-f[0],L[3]-f[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(ia[0]-f[0]/2-L[0]-g.offset.left)/a[0])),c=0>=a[1]?.5:Math.max(0,Math.min(1,(ia[1]-f[1]/2-L[1]-g.offset.top)/a[1])),
d=L[0]+Math.round(b*a[0]),a=L[1]+Math.round(c*a[1]);m.get(0).style.left=d+"px";m.get(0).style.top=a+"px";return[b,c]};g.destroy=function(){m.remove()};g.offset=c.offsetParent().offset();a(k);g.updatePosition();m.appendTo(c.parent());M.detailImage[0].complete||M.detailImage.load(function(){var b=M.detailImage.width()/L[2];a(b);g.updatePosition()})};I.preload=function(){v.preload(e.generalImageUrls.lensBackgroundUrl)};var Q=function(){function b(){var a={};if("over"===e.location){var a=e.useClickZoom,
g={},h=d("#leftCol"),m=d("#centerCol"),n=d("#rightCol"),x=d("#hover-zoom-end"),r=d("#actionPanelContainer"),D=f.isjQueryObjDefined(h)?h.outerHeight():m.outerHeight();g.top=f.isjQueryObjDefined(h)?h.offset().top:m.offset().top;g.bottom=D+g.top;g.right=f.isjQueryObjDefined(n)?n.offset().left:r.offset().left;g.left=a?0:h.offset().left+h.outerWidth();f.isjQueryObjDefined(x)&&x.offset().top>g.bottom&&(g.bottom=x.offset().top);a=g}else"right"===e.location&&(a=c.offset(),a={left:a.left+c.outerWidth(),top:a.top,
right:a.left+c.outerWidth()+400,bottom:a.top+400});e.minHeightElement&&(a.bottom=Math.max(a.bottom,a.top+d(e.minHeightElement).outerHeight()));a.bottom=Math.min(a.bottom,d(y).scrollTop()+d(y).height());a.left+=l[0];a.top+=l[1];a.right+=l[2];a.bottom+=l[3];a.width=a.right-a.left;a.height=a.bottom-a.top;e.enhancedHoverOverlay&&f.isDefined(y.pageXOffset)&&(g=d(y).width(),a.width=g-a.left+y.pageXOffset-18,a.height-=14);p.css({left:a.left,top:a.top,width:a.width,height:a.height});k.rect=a;return k}function h(b){var c=
new Image;k.detailSize=[0,0];c.onload=function(){k.detailSize=[c.width,c.height];g()};c.src=b.attr("src");if(0<c.width&&0<c.height)k.detailSize=[c.width,c.height];else if(e.detailImageSize)k.detailSize=e.detailImageSize;else{b=a(c.src);var d=L[2]/L[3];b.SS||b.AA?(b=b.SS||b.AA,k.detailSize=[b,b]):b.SX?k.detailSize=[b.SX,Math.round(b.SX/d)]:b.SY?k.detailSize=[Math.round(b.SY*d),b.SY]:b.SL&&(k.detailSize=1<=d?[b.SL,Math.round(b.SL/d)]:[Math.round(b.SL*d),b.SL])}}var k=this,l=e.adjustment;d("#zoomWindow").remove();
var m={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:e.zIndex};e.enhancedHoverOverlay&&(m.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",m.border="1px solid #949494",m.borderColor="rgb(148,148,148)");var p=d("<div id='zoomWindow' />").css(m);e.fadeMagnifier&&p.fadeIn(200);e.useClickZoom&&(n?p.css("cursor",'url("'+e.zoomOutIcon+'"), auto'):(p.css("cursor","-webkit-zoom-out"),p.css("cursor","-moz-zoom-out"),p.css("cursor","zoom-out")));k.updateImage=function(a){a=d("<img id='detailImg' src='"+
a+"'/>").css("position","absolute");k.detailImage&&k.detailImage.remove();p.append(a);d(document).trigger("updated.magnifier");k.detailImage=a;h(k.detailImage)};k.refit=function(){b();h(k.detailImage);return k};e.fadeMagnifier?(k.show=function(){p.fadeIn(200);return k},k.hide=function(){p.fadeOut(200);return k}):(k.show=function(){p.show();return k},k.hide=function(){p.hide();return k});k.destroy=function(){p.remove();return k};k.getWindowSize=function(){return[k.rect.left,k.rect.top,k.rect.width,
k.rect.height]};k.updateImage(N);b();p.appendTo(document.body)},S=!1,T,U=!1,Y;v.preload=function(a){a=d.makeArray(a);for(var b=a.length,c=0;c<b;c++)a[c]instanceof Array?v.preload(a[c]):"string"===typeof a[c]&&a[c]&&!H[a[c]]&&(H[a[c]]=new Image,H[a[c]].src=a[c])};v.changeImage=function(a,b){O&&r();N=b;c.attr("src",a);v.preload(a);L=[c.position().left,c.position().top,c.width(),c.height()];b&&("immediately"===e.preload?v.preload(b,!0):d(y).ready(function(){v.preload(b)}),M?M.updateImage(b):c.attr("data-old-hires",
b))};v.destroy=function(){c.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");d(document).unbind("mousemove.magnifier");G&&G.destroy();G=null;M&&M.destroy();M=null};v.detailImage=function(){return M.detailImage};v.suppressMagnifier=function(a){K=a};v.isEngaged=function(){return O};v.engageMagnifier=p;v.disengageMagnifier=r;c[0].complete?x():c.one("load",x);v.preload(c.attr("src"));if(e.preload){var ha=e.detailImageUrl,u=function(){v.preload(ha,!0);e.useClickZoom||I.preload()},
ea=e.preload;ea.constructor!==Array&&(ea=[ea]);for(var na=0;na<ea.length;na++)if("immediately"===ea[na])u();else if(d(y)[ea[na]])d(y)[ea[na]](u);else d(y).bind(ea[na],u)}return v}function e(){if(h.useHoverZoom){var a={adjustment:[0,0,1,1],generalImageUrls:h.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:190,useHoverZoomIpad:h.useHoverZoomIpad,useHoverZoom:h.useHoverZoom,useClickZoom:h.useClickZoom,fadeMagnifier:h.fadeMagnifier,zoomOutIcon:h.staticImages.zoomOutCur,
enhancedHoverOverlay:h.enhancedHoverOverlay};m&&(m.destroy(),m=O);var b=r.find(".image.item.selected img[data-old-hires]").not("[data-old-hires='']");f.isjQueryObjDefined(b)&&(h.useClickZoom?(b.one("click.loadmagnifier touchstart.loadmagnifier",function(d){m=new c(b,a);m.engageMagnifier(d,!0)}),n?b.css("cursor",'url("'+h.staticImages.zoomInCur+'"), auto'):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in"))):m=new c(b,a))}}var g,h,l,m,r,n=navigator.userAgent.match(/msie|trident/i);
return function(a,b,c,d){g=this;h=a;l=d;g.render=function(a,b,c,d,e,g){r=c;m&&(m.destroy(),m=O)};g.update=function(a){};l.register("loadMagnifier",e);l.register("resize",e)}});u.when("A","jQuery","imageBlockUtils").register("ImageBlockTwisterView",function(v,d,f){function k(a,b,d){a=(a=d?d:f.getColorFromState(b.getState().hovered_variations,c))&&""!==a?a:c.defaultColor;g.dispatch("updateView",{type:"swatchHover",data:{color:a}})}function b(a,b,d,k){a=(a=k?k:f.getColorFromState(b.getState().selected_variations,
c))&&""!==a?a:c.defaultColor;a===e.getCurrentItem().color?"function"===typeof d&&d():g.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:d})}var a,c,e,g;return function(d,f,m,r){a=this;c=d;e=f;g=r;v.on("image-block-twister-swatch-hover",k);v.on("image-block-twister-swatch-click",b);a.render=function(a,b,c,d,e){};a.update=function(a){}}});u.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric").register("ImageBlockVideoView",function(v,d,f,k,b,a){function c(a,
b,c,e){!n.autoplayVideo||y||n.useChromelessVideoPlayer?!k.isjQueryObjDefined(a.find(".a-button-selected"))&&(c=q.getCurrentItem(),!e||n.prioritizeVideos||"chromeless-video"===c.type&&n.autoplayVideo)&&(e=h(c.color,0),-1!==e&&(b+=0,t.dispatch("updateModel",{data:{index:0,thumbnailIndex:b,variant:e.variant,type:n.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),b=a.find(".item").get(b),k.selectGivenThumbnail(d(b),a))):(k.selectGivenThumbnail(a.find("img:last"),a),k.fadeToThumbnail(a.find("img").length-
1,D,a))}function e(a){if(!n.useChildVideos)return k.lazyLoadingRequired(q.getCurrentItem(),q,n)?void 0:n.videos;if(n.colorToVideo[a])return n.colorToVideo[a];var c=n.colorToAsin[a];if(c&&c.asin){var d={};d.params={asin:c.asin,productGroupID:n.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:n.useChromelessVideoPlayer,isUDP:n.isUDP};d.success=function(b){var d=function(){if(b){n.colorToVideo[a]=b;var c={type:"updatedData",data:q.getCurrentItem()};t.dispatch("updateView",c)}};n.lazyLoadExperienceDisabled?
d():u.when(k.rankedImagesReadyEvent(c.asin)).execute(function(){d()})};b.load("/gp/product/features/apparel-main-image/videos.html",d);return n.colorToVideo&&n.colorToVideo[a]}}function g(b,c,e,g){return f.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:b[0],streamingUrls:c.url,swfUrl:e.swfUrl,foresterMetadataParams:e.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var c=k.isjQueryObjDefined(b.find("video"))?
"HTML5":"FLASH";a.postCountMetric("dppc_chromelessVideo:"+c)},playing:function(){b.parent().css("z-index",8)},videounsupported:function(){t.dispatch("selectThumbnail",0);a.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){t.dispatch("selectThumbnail",0);a.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){p.seek(0)}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(a,c,e){a=e.durationSeconds-e.playheadTimeSeconds;b.parent().css("background-color",
"white").find(".airy-renderer-container").fadeTo(1E3*a,.1,function(){b.parent().css({"background-color":"transparent","z-index":-1});t.dispatch("selectThumbnail",0);d(this).show().css("opacity",1)})}}]})}function h(a,b){var c;if(n.useChildVideos){if(!k.isDefined(n.colorToVideo))return-1;c=n.colorToVideo[a]}else c=n.videos;return k.isDefined(c)&&k.isDefined(c[b])&&k.isDefined(c[b].url)?c[b]:-1}function l(a){if("chromeful-video"===a.type||"chromeless-video"===a.type){var b=h(a.color,a.index);if(-1===
b)return-1;if("chromeful-video"===a.type){a=D.width()/D.height();var c=parseInt(b.videoWidth,10),d=parseInt(b.videoHeight,10);A.parent().css("z-index",2);0!==d&&0!==c&&(c/=d,a>c?A.css("width",c/a*100+"%"):A.css("height",a/c*100+"%"));p?(p.show(),k.loadMediaIntoAiry(p,b,x),B.show()):(p=k.createAiryInstanceForChromeful(A,b,x,null,n.autoplayVideo,D,B,z),B.find("#videoCaption").text(n.staticStrings.playVideo));b=p;n.autoplayVideo&&b&&!y&&(k.toggleVideoCaption(B),b.setVolume(0),b.show(),b.play(),y=!0)}else p?
(p.show(),k.loadMediaIntoAiry(p,b,x),p.play()):(p=g(A,b,x))&&p.play()}}function m(b,g,f){g=e(g);var h=b;k.isDefined(g)&&0<g.length&&n.alwaysIncludeVideo&&b===n.maxAlts&&(z.find(".item:last").remove(),b--);k.isDefined(g)&&(d.each(g,function(c,d){if(b<n.maxAlts){var e=n.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";k.createThumbnail({type:e,index:c,thumbnailIndex:b,variant:d.variant},d.thumb,z);E||(E=!0,a.postCountMetric("chromeless-video"===e?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));
b++}}),c(z,h,b,f));return b}var r,n,q,t,z,A,B,D,p,x,E=!1,y=!1;return function(a,b,c,e){r=this;n=a;q=b;t=e;x=n.airyConfig;n.colorToVideo={};n.colorToVideo[n.landingAsinColor]=n.colorToVideo[n.defaultColor]=n.videos;r.render=function(a,b,c,e,g,f){z=e;A=g.find("#main-video-container");B=A.parent().find("#video-canvas-caption");D=d("#main-image-container");n.useChromelessVideoPlayer||A.addClass("chromeful-container");a=m(b,a,f);l(q.getCurrentItem());return a};r.update=function(a){var b=a.data;"ingress"!==
b.type&&p&&(p.hide(),A.parent().css("z-index",-1),B.hide());if("swatchHover"===a.type)b.color===q.getCurrentItem().color?l(q.getCurrentItem()):a.captured||k.lazyLoadingRequired(b,q,n)&&!k.lazyLoadOnHoverEnabled(n)&&l(q.getCurrentItem());else if("chromeful-video"===b.type||"chromeless-video"===b.type)l(b),n.usePeekHover&&"click"!==a.type||k.selectGivenThumbnail(a.$declarativeParent,z)}}});u.when("A","a-modal","a-tooltip","jQuery","imageBlockUtils","postMetric").register("ImageBlockImmersiveView",
function(v,d,f,k,b,a){function c(a){return a.hiRes||a.large||a.main[a.main.length-1]}function e(a,c){var d=v.copy(a);if(b.isDefined(a)&&a.length>c){try{for(var e=-1,g=0;g<a.length;g++){var f=a.charAt(g);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)e=g;if(g===c-4){d=a.substring(0,-1===e?g:e);break}}}catch(h){d=a.substring(0,c-3)}d+="..."}return d}function g(a){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,
"").replace(/\._SP[0-9,C]+_/,"");var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+"_AA50_"+a.substring(b):a.substring(0,b)+"._AA50_"+a.substring(b)}function h(){K.find("#ivTitle").click(function(){ba.hide()})}function l(a,b){var c=parseInt(a.css(b),10);return isNaN(c)?0:c}function m(){var a=K.find("#ivStage"),b=ba.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner"),b=b.height()-l(c,"padding-top")-l(c,"padding-bottom");K.css("height",b);var c=K.find("#ivTitle").outerHeight(!0),
d=K.find("#ivVariationSelection").outerHeight(!0),e=K.find("#ivMediaSelection").outerHeight(!0),g=K.find("#ivThumbs"),f=l(g,"margin-top")+l(g,"margin-bottom");g.css("height",b-c-d-e-f);K.find("#ivLargeImage").css("height",b);a.css("width",K.width()-l(K,"padding-left")-l(K,"padding-right")-K.find("#ivThumbColumn").width()-l(a,"margin-left")-l(a,"margin-right"))}function r(){K.find("#ivMediaSelect").change(function(){var a=k(this).val();"all"===a?(K.find("#ivVideoList").hide(),K.find("#ivThumbs").show(),
K.find(".ivThumbVideo").show(),"chromeful-video"===S.type&&K.find("#ivVideo_"+S.index).click()):"images"===a?(K.find("#ivVideoList").hide(),K.find("#ivThumbs").show(),K.find(".ivThumbVideo").hide(),"chromeful-video"===S.type&&K.find("#ivImage_0").click()):"videos"===a&&(K.find("#ivVideoList").show(),K.find("#ivThumbs").hide(),"image"===S.type?K.find("#ivVideoList_0").click():K.find("#ivVideoList_"+S.index).click())})}function n(){var a=K.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),
d=a.find(".fullscreen");d.removeAttr("style");var e=d.width(),g=d.height();0<d.length&&(d[0].naturalWidth&&(e=d[0].naturalWidth),d[0].naturalHeight&&(g=d[0].naturalHeight));a.css("cursor","auto");var e=0===e?1:e,g=0===g?1:g,f=Math.min(b/e,c/g),h=g*f,k=e*f;1>f?(Y?a.css("cursor","url('"+L.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),na=!0):na=!1;e=Math.min(k,e);g=Math.min(h-20,g);d.css({"margin-top":(c-g)/2,"margin-left":(b-
e)/2,height:g,width:e});a.css("visibility","visible");ea=!1}function q(a){var b=K.find("#ivLargeImage");b.css("visibility","hidden");b.empty();b.animate({opacity:1},200);b.append(a);n()}function t(a){T&&T.hide();K.find("#ivLargeVideo").css("display","none");K.find("#ivLargeImage").css("display","block");var d;"hero-image"===a?b.isDefined(N)&&(d=c(N[S.index])):b.isDefined(R)&&(d=c(R[S.index]));if(b.isDefined(d)){K.find(".fullscreen").remove();var e=k("<img>").attr("src",d).addClass("fullscreen"),g=
K.find("#ivLargeImage");g.animate({opacity:.4},200,function(){e.load(function(){q(e)});if(e[0].complete)q(e);else{g.empty();var a=(g.height()-104)/2,b=(g.width()-80)/2;k("<img>").attr("src",L.staticImages.spinner).css({position:"relative",top:a+"px",left:b+"px"}).appendTo(g)}})}}function z(){var a=parseInt(S.index,10)+1;a>=Z.length||K.find("#ivVideo_"+a).click()}function A(){var a;b.isDefined(Z)&&(a=Z[S.index]);if(b.isDefined(a)){K.find("#ivLargeImage").css("display","none").empty();var c=K.find("#ivLargeVideo").css("display",
"block");T?(T.isDetached()&&T.attach(c[0]),b.loadMediaIntoAiry(T,a,U),T.show()):(T=b.createAiryInstanceForChromeful(c,a,U,"ImmersiveView"),U.enableContinuousPlay&&T.bind("ended",z));T.play({isAsync:!0})}}function B(){S=J.getCurrentItem();var a;a="hero-image"===S.type?K.find("#ivHeroImage_"+S.index):"image"===S.type?K.find("#ivImage_"+S.index):"chromeful-video"===S.type||"chromeless-video"===S.type?K.find("#ivVideo_"+S.index):b.isDefined(N)?K.find("#ivHeroImage_"+S.index):K.find("#ivImage_"+S.index);
b.isjQueryObjDefined(a)||(a=K.find("#ivImage_0"));D(a)}function D(a){K.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(S.type="chromeful-video",S.index=a.attr("id").split("_")[1],A()):(a.hasClass("ivHeroImage")?S.type="hero-image":S.type="image",S.index=a.attr("id").split("_")[1],t(S.type))}function p(){K.delegate(".ivThumb","click",function(){var a=k(this);D(a)});K.delegate(".ivThumbVideoListOuter","click",function(){K.find(".ivThumbVideoListOuter").removeClass("selected");
var a=k(this);a.addClass("selected");S.type="chromeful-video";S.index=a.attr("id").split("_")[1];A()})}function x(){T&&!T.isDetached()&&(U.volume=T.getVolume(),T.detach(),!document.all||y.atob||document.addEventListener||(T=null));K.find("#ivLargeImage").empty()}function u(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function F(a){var b=sa.top-(a.pageY-qa[1])*fa;a=u(sa.left-(a.pageX-qa[0])*fa,X.left);b=u(b,X.top);K.find(".fullscreen").css({left:a,top:b})}function M(){K.delegate("#ivLargeImage","click",
function(a){if(ea)n();else if(na){K.find(".fullscreen").removeAttr("style");if(na){var b=K.find("#ivLargeImage"),c=b.find(".fullscreen");Y?b.css("cursor","url('"+L.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));ea=!0;var d=K.find("#ivLargeImage");X.left=d.width()-c.width();X.top=d.height()-c.height();var d=b.height()/2,e=b.width()/2;qa=[b.offset().left+e,b.offset().top+d];sa.top=d-c.height()/2;sa.left=e-c.width()/2;
c.css({position:"relative",left:sa.left,top:sa.top});fa=Math.max(c.height()/b.height(),c.width()/b.width())}F(a)}});K.delegate("#ivLargeImage","mousemove",function(a){ea&&F(a)})}function G(){var c;(c=!L.useIV)||(c=J.getCurrentItem().color,c=L.colorImages&&L.colorImages[c]&&0<L.colorImages[c].length?!0:!1,c=!c);if(!c){a.postCountMetric("dppc_immersiveViewOpened");if(b.isDefined(ba))ba.show();else{c=k("#auiImmersiveViewDiv");var f=k(y).height()-150,h=k(y).width()-75;ba=d.create(c,{name:"immersiveView",
activate:"onclick",width:h,height:f,popoverLabel:"ImmersiveView",hideHeader:!0});c.click()}if(ha){K=k("#ivMain");c=J.getCurrentItem().color;R=L.colorImages[c];N=L.heroImage[c];Z=L.useChildVideos?L.colorToVideo[c]:L.videos;S=J.getCurrentItem();P=Q=I=0;b.isDefined(N)&&(P=N.length);b.isDefined(R)&&(I=R.length);b.isDefined(Z)&&(Q=Z.length);c=K.find("#ivTitle");c.attr("title",L.title);c.text(e(L.title,45));if(b.isDefined(y.DetailPage)&&b.isDefined(y.DetailPage.StateController)){c=K.find("#ivVariationSelection");
c.empty();var f=y.DetailPage.StateController.getState(),h=f.variation_label_order,l;for(l in h)if(h.hasOwnProperty(l)){var m=h[l],p=f.selected_variations[m],m=f.variation_display_labels[m];p&&k("<div/>").addClass("ivVariations").text(m+":"+p).appendTo(c)}}l=K.find("#ivMediaSelect");0===I||0===Q?(l.parent().hide(),K.find("#ivThumbs").addClass("noMediaSelection")):(l.empty(),k("<option/>").attr("value","all").prop("selected",!0).text(L.staticStrings.allMedia+" ("+(P+I+Q)+")").appendTo(l),k("<option/>").attr("value",
"images").text(L.staticStrings.images+" ("+(P+I)+")").appendTo(l),k("<option/>").attr("value","videos").text(L.staticStrings.videos+" ("+Q+")").appendTo(l),l.parent().show(),l.val("all"));l=K.find("#ivThumbs");l.find(".ivRow").not(".placeholder").remove();c=P+I+Q;for(h=f=0;f<c;)for(p=l.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(l),m=0;3>m&&f<c;m++,f++,h++)if(h<P){var n=N[f].thumb,x=l.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id",
"ivHeroImage_"+f).appendTo(p);x.find(".ivThumbImage").css("background",'url("'+g(n)+'") center no-repeat')}else if(h>=P&&h<I+P)n=R[f-P].thumb,x=l.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(f-P)).appendTo(p),x.find(".ivThumbImage").css("background",'url("'+g(n)+'") center no-repeat');else if(n=Z[f-I-P],x=l.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(f-I-P)).appendTo(p),x.find(".ivThumbImage").css("background",
'url("'+n.thumbUrl+'") center no-repeat'),b.isDefined(n)){var q={position:"triggerTop"},t=K.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");t.find(".ivVideoPopoverTitle").text(n.title);t.find(".ivVideoPopoverDuration").text(n.durationTimestamp);q.inlineContent=t[0];v.declarative.create(x,"a-tooltip",q)}l=K.find("#ivVideoList");l.find(".ivThumbVideoListOuter").not(".placeholder").remove();c=l.find(".placeholder");for(f=0;f<Q;f++)h=Z[f],p=c.clone().removeClass("placeholder").appendTo(l),
p.attr("id","ivVideoList_"+f),p.find(".ivThumbImage").css("background",'url("'+h.thumbUrl+'") center no-repeat'),p.find(".ivThumbTitle").text(h.title),p.find(".ivThumbDuration").text(h.durationTimestamp);U=L.airyConfig;ha=!1;xa()}}}var O,L,J,H,ba,K,N,R,Z,P,I,Q,S,T,U,Y=navigator.userAgent.match(/msie|trident/i),ha=!0,ea=!1,na=!1,X={},sa={},fa,qa,xa=v.once(function(){r();p();M();v.on("a:popover:afterUpdatePosition:immersiveView",m);v.on("a:popover:afterShow:immersiveView",B);v.on("a:popover:afterHide:immersiveView",
x);h()});return function(a,b,c,d){O=this;L=a;J=b;H=d;O.render=function(a,b,c,d,e,g){ha=!0};O.update=function(a){};H.register("imageClick",G)}});u.when("A","jQuery","imageBlockUtils").register("ImageBlockLoader",function(v,d,f){return{load:function(d,b){b=b||{};b.timeout=b.timeout||4E3;v.ajax(d,b)}}});u.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF").register("imageBlockUtils",function(v,d,f,k,b,a){function c(a){return null!==a&&"undefined"!==typeof a}
function e(a){var b=0;d.each(a,function(a,c){var d=parseInt(c[1],10);d>b&&(b=d)});return b}function g(a){var b=0;d.each(a,function(a,c){var d=parseInt(c[0],10);d>b&&(b=d)});return b}function h(a,b,c){b.fadeTo(500,0,function(){m(a,c);b.fadeTo(500,1)})}function l(a){a&&a.toggle()}function m(a,b){var e=b.find("img");c(e[a])&&d(e[a]).click()}function r(a,b){B[a]=b?b:B[a];return B[a]}function n(a,b,e){e=e||A;e=e.colorImages;if(1>e.length||!c(e[a])||!c(b))return-1;var g=-1;d.each(e[a],function(a,c){c.variant===
b&&(g=a)});return g}function q(a,b,e){e=e||A;e=e.colorImages;return!(c(e)&&c(e[a])&&c(e[a][b])&&c(e[a][b].main))||1>d.map(e[a][b].main,function(a,b){return b}).length?-1:e[a][b]}var t,z,A=d.extend(!0,{},b,a),B={};return{isDefined:c,isjQueryObjDefined:function(a){return 0!==a.length},getMaxHeightOfMainImage:function(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=g(a);0<a&&(b=Math.min(b,a));return b},getMaxWidthOfMainImage:function(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=e(a);
0<a&&(b=Math.min(b,a));return b},getContainerHeight:function(a,b,d){var e=a.get(0);a=0;if(c(e)){a=e.offsetWidth/b;a=Math.min(a,d);var g;b=A.mainImageHeightPartitions;d=A.mainImageMaxSizes;if(c(d)&&c(b)){for(var f=0,h=y.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e=0;e<b.length;e++)h>b[e]&&(f=e+1);d.length>=f&&(g=d[f])}c(g)&&(a=Math.min(g[1],a))}return a},getColorFromState:function(a,b){if(a){b=b||A;var c="";d.each(b.visualDimensions,function(b,d){a[d]&&(c+=" "+a[d])});
return c&&c.substring(1)}},createThumbnail:function(a,b,c){var d=c.find(".template").clone().removeClass("template").addClass("item"),e=document.createElement("img");e.src=b;d.find(".placeHolder").replaceWith(e);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&d.addClass("heroImageThumbnail");v.declarative.create(d,"thumb-action",a);c.append(d)},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");
c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,c,e,g,m,n,q){var r=d.extend({},c.foresterMetadataParams);null!==e&&(r.method+="."+e);var A=[];b.disabledViewIds&&(A=b.disabledViewIds);return f.embed({parentElement:a[0],streamingUrls:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,swfUrl:c.swfUrl,foresterMetadataParams:r,backgroundColor:"transparent",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:b.slateUrl,
postMediaSlate:b.slateUrl},videoAds:c.videoAds,bindings:{play:function(){"ImmersiveView"===e?t||(t=!0,k.postCountMetric("dppc_chromefulVideoPlayedIV")):z||(z=!0,k.postCountMetric("dppc_chromefulVideoPlayedPV"))}},cuePoints:[{values:b.durationSeconds-1,type:"position",callback:function(a,b,c){g&&(h(0,m,q),l(n))}}],disabledViewIds:A})},loadMediaIntoAiry:function(a,b,c){a&&a.getMediaSourceInfo()!==b.url&&a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||
"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}})},showUnavailable:function(a){a&&(d("#imageBlock .unvailableVariation").html(a),d("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){d("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:h,toggleVideoCaption:l,selectThumbnail:m,spinner:function(a,b){var c=d("#imageBlock .a-spinner").parent();0===c.length&&(c=d("<div></div>").append(d("<span></span>").addClass("a-spinner").addClass("a-spinner-medium")),
a.append(c),c.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));b?c.show():c.hide();return c},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:r,getIndexForVariant:n,getImageHash:q,lazyLoadingRequired:function(a,b,c){b=Math.max(n(a.color,
b.getCurrentItem().variant,c),0);b=-1!==q(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==r(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled}}});u.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils","postMetric").register("ImageBlockHeroImageView",function(v,d,f,k,b){function a(a,b,c,g){if(!f.isjQueryObjDefined(a.find(".a-button-selected"))){var h=t.getCurrentItem();
if(!g||"chromeless-video"!==h.type||!q.autoplayVideo){g=0;if("hero-image"===h.type){g=e(h.color,h.variant);if(-1===g)return;g=-1!==g?g:0}var l=b+g;l>=c&&(g=0,l=b);b=k.getHeroImageHash(q,h.color,g);-1!==b&&(z.dispatch("updateModel",{data:{index:g,thumbnailIndex:l,variant:b.variant,type:"hero-image"}}),b=a.find(".item").get(l),f.selectGivenThumbnail(d(b),a))}}}function c(b,c,e){if("hero-video"===t.getCurrentItem().type)return b;c=q.heroImage&&q.heroImage[c];var g=b;f.isDefined(c)&&(d.each(c,function(a,
c){b<q.maxAlts&&(f.createThumbnail({type:"hero-image",index:a,thumbnailIndex:b,variant:c.variant},c.thumb,A),b++)}),a(A,g,b,e));return b}function e(a,b){var c=q.heroImage;if(1>c.length||!f.isDefined(c[a])||!f.isDefined(b))return-1;var e=-1;d.each(c[a],function(a,c){c.variant===b&&(e=a)});return e}function g(){if(B.length&&q.repositionHeroImage){var a=k.getHeroDimParams(q,t.getCurrentItem()),b;f.isDefined(a)&&(b=f.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",B.css({"background-position":b,
"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px "}),D.length||B.css({filter:"","-ms-filter":""}))}}function h(a,b,c,d){if(B.length&&a&&b){if("function"===typeof c||d){var e=new Image;e.onload=d?function(){D.length&&B.fadeIn(2E3,function(){D.css("background-image",'url("")')});B.css("background-image",'url("'+a+'")')}:c;e.src=a}c=b[1];var e=b[0],g;d||B.css({"background-image":'url("'+a+'")'});q.repositionHeroImage&&(b=k.getHeroDimParams(q,t.getCurrentItem(),
b),f.isDefined(b)&&(c=b.width,e=b.height,g=f.isDefined(b.xPos)?b.xPos+"px "+b.yPos+"px ":"center "+b.yPos+"px "));B.css({"background-position":g,"background-size":c+"px "+e+"px ","max-width":c+"px ","min-height":e+"px "});D.length||B.css({filter:"","-ms-filter":""})}}function l(a,b,c,e){a=k.getHeroImageHash(q,a,b);if(-1===a)return-1;b=d.map(a.main,function(a,b){return b})[0];h(b,a.main[b],c,e)}function m(a,b,c){if("hero-image"!==a.type)return-1;var d=e(a.color,t.getCurrentItem().variant),d=-1!==d?
d:0;if(-1===k.getHeroImageHash(q,a.color,d))return-1;var g=t.getCurrentItem();a.thumbnailIndex=g.thumbnailIndex;a.type=g.type;a.variant=g.variant;a.index=d;r(a,b,c)}function r(a,b,c){var d=k.getHeroImageHash(q,a.color,a.index),e;e=a&&p&&v.equals(a,p)?!0:!1;p||(p=a);if(!e&&a||b)l(a.color,a.index,b,c),p=a;B.removeClass("hide-background");v.trigger("dp:image-block:update",d)}var n,q,t,z,A,B,D,p={};return function(a,b,e,h){n=this;q=a;t=b;z=h;q.heroImage[q.landingAsinColor]=q.heroImage[q.defaultColor];
n.render=function(a,b,e,g,f,h,k){A=g;B=d("#heroImage");D=d("#heroImageLowRes");a=c(b,a,h);m(t.getCurrentItem(),k,h);return a};n.update=function(a){var b=a.data;"ingress"!==b.type&&B.addClass("hide-background");"swatchHover"===a.type?a.captured||(b.type=t.getCurrentItem().type,-1!==m(b)&&(a.captured=!0)):"hero-image"===b.type&&(r(b),"click"!==a.type&&q.usePeekHover||f.selectGivenThumbnail(a.$declarativeParent,A))};z.register("resize",g)}});u.when("A","jQuery","imageBlockUtils","postMetric",
"ImageBlockAltImageView").register("ImageBlockAltImageIngressView",function(v,d,f,k,b){var a,c,e,g;return function(b,d,f,k){a=this;c=b;e=k;a.render=function(b,d,e,f,h,k,l){g=f;a=this;e=c.maxAlts;f=d;h=c.colorImages[b].length;k=c.useChildVideos&&c.colorToVideo[b]?c.colorToVideo[b].length:c.videos?c.videos.length:0;b=c.heroImage[b];l=0;b&&(l=b.length);b=h+k+l;b>e&&(e=b-e,b=g.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),e+="+",f={type:"ingress",
index:0,thumbnailIndex:d,variant:""},b.find("#altIngressText").append(e),v.declarative.create(b,"thumb-action",f),g.append(b),f=d++);return f};a.update=function(a){"ingress"===a.data.type&&"click"===a.type&&e.dispatch("imageClick",a)}}});u.when("A","jQuery","imageBlockUtils").register("ImageBlockState",function(v,d,f){return function(d,b){this.getImageHash=function(a){var c=b.getCurrentItem();a=f.getIndexForVariant(c.color,a||"MAIN",d);return f.getImageHash(c.color,a,d)}}});
u.when("A","jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(v,d,f){function k(a,b){var d;if(b.repositionHeroImage){d=a[1];var f=a[0];if(768>=(y.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))d*=.7,f*=.7;else{var k=((y.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,k=Math.max(Math.min(k,1),0);d*=.7+.3*k;f*=.7+.3*k}d=[d,f]}return d}function b(a,b,d){var h;if(d.repositionHeroImage){var k=y.innerWidth||document.documentElement.clientWidth||
document.body.clientWidth;d=d.heroFocalPoint;if(f.isDefined(d)){h=Math.max((k-Math.min(1500,a))/2,0);var m=Math.max((k-a)/2,0);h-=m;k=Math.max(Math.min(k,1500),1024);h=h+(k-420-23)/2-a/b[1]*d}}return h}function a(a,b,g){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[b])&&f.isDefined(a[b][g])&&f.isDefined(a[b][g].main))||1>d.map(a[b][g].main,function(a,b){return b}).length?-1:a[b][g]}return{getHeroImageHash:a,getHeroDimParams:function(c,e,g){if(c.repositionHeroImage){if(!f.isDefined(g)){g=a(c,
e.color,e.index);if(-1===g)return;e=d.map(g.main,function(a,b){return b})[0];g=g.main[e]}e=k(g,c);c=b(e[0],g,c);return{height:e[1],width:e[0],xPos:c,yPos:75}}}}})})})(function(){var u=window.AmazonUIPageJS||window.P,y=u._namespace||u.attributeErrors;return y?y("DetailPageImageBlockAssets"):u}(),window);